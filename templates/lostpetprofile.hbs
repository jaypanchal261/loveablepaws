<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lost Pet Profile</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"
        integrity="sha512-Eak/29OTpb36LLo2r47IpVzPBLXnAMPAVypbSZiZ4Qkf8p/7S/XRG5xp7OKWPPYfJT6metI+IORkR5G8F900+g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://kit.fontawesome.com/ad5f4c0450.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/output.css" />
    <style>
        #loginBtn::before {
            content: "Log in/ Sign up";
        }

        @media (max-width: 500px) {
            #loginBtn::before {
                content: "Login";
            }
        }
    </style>
</head>

<body class="bg-[#fbf8f7]">

    <nav class="bg-[#fbdbc3] fixed w-full z-40 top-0 start-0 border-b border-gray-200">
        <div class=" flex flex-wrap items-center justify-between p-2 md:p-3 ">
            <a href="/" class="flex items-center space-x-1 rtl:space-x-reverse">
                <img src="assets/logo.png" class="h-8 md:h-8 lg:h-11" alt=" Logo" />
                <span
                    class="self-center text-xl md:text-xl lg:text-2xl text-[#3f3f40] font-bold whitespace-nowrap">Loveable
                    Paws</span>
            </a>
            <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
                {{!-- button --}}
                <a href="/login" id="loginBtn"
                    class="inline-flex items-center text-white bg-[#3f3f40] hover:bg-[#2a2a2b] focus:ring-4 focus:outline-none focus:ring-[#5a5a5c] font-semibold rounded-lg text-sm px-4 py-2 text-center hidden">

                </a>

                {{!-- icon --}}
                <a id="userIcon" href="/userprofile"
                    class="relative inline-flex items-center justify-center w-10 h-10 overflow-hidden rounded-full hidden"
                    style="background-color: #3f3f40;">
                    <span class="font-medium text-[#fbf8f7]" id="flName">JL</span>
                </a>

                <button data-collapse-toggle="navbar-sticky" type="button"
                    class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 "
                    aria-controls="navbar-sticky" aria-expanded="false">
                    <span class="sr-only">Open main menu</span>
                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 17 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M1 1h15M1 7h15M1 13h15" />
                    </svg>
                </button>
            </div>
            <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
                <ul
                    class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-[#fbdbc3] md:space-x-4 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-[#fbdbc3] lg:space-x-8 ">
                    <li>
                        <a href="/"
                            class="block py-2 px-3 text-[#3f3f40] rounded hover:bg-[#f5be94] md:hover:bg-transparent md:hover:text-[#fd634f] md:p-0 font-bold"
                            aria-current="page">Home</a>
                    </li>
                    <li>
                        <a href="/listpet"
                            class="block py-2 px-3 text-[#3f3f40] rounded hover:bg-[#f5be94] md:hover:bg-transparent md:hover:text-[#fd634f] md:p-0 font-bold">List
                            Pet</a>
                    </li>
                    <li>
                        <a href="/adoptpet"
                            class="block py-2 px-3 text-[#3f3f40] rounded hover:bg-[#f5be94] md:hover:bg-transparent md:hover:text-[#fd634f] md:p-0  font-bold">Adopt
                            Pet
                        </a>
                    </li>

                    <li>
                        <button id="dropdownNavbarLink" data-dropdown-toggle="dropdownNavbar"
                            class="flex items-center justify-between w-full py-2 px-3 text-[#3f3f40] rounded hover:bg-[#f5be94] md:hover:bg-transparent md:border-0 md:hover:text-[#fd634f] md:p-0 md:w-auto font-bold">
                            Services
                            <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 10 6">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="m1 1 4 4 4-4" />
                            </svg>
                        </button>

                        <div id="dropdownNavbar"
                            class="z-40 hidden font-normal bg-[#fbdbc3] divide-y divide-[#ffd5b5] rounded-lg shadow-lg w-44 ">
                            <ul class="py-2 text-sm text-gray-700 " aria-labelledby="dropdownLargeButton">
                                <li>
                                    <a href="/lostandfound" class="block px-4 py-2 hover:bg-[#f5be94]">Lost
                                        and Found Pet</a>
                                </li>
                                <li>
                                    <a href="/donation" class="block px-4 py-2 hover:bg-[#f5be94]">Donation</a>
                                </li>
                                <li>
                                    <a href="/petcareresources" class="block px-4 py-2 hover:bg-[#f5be94]">Pet
                                        Care Resources</a>
                                </li>
                                <li>
                                    <a href="/veterinary" class="block px-4 py-2 hover:bg-[#f5be94]">Veterinary</a>
                                </li>
                                <li>
                                    <a href="/welfare" class="block px-4 py-2 hover:bg-[#f5be94]">Welfare</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="/aboutus"
                            class="block py-2 px-3 text-[#3f3f40] rounded hover:bg-[#f5be94] md:hover:bg-transparent md:hover:text-[#fd634f] md:p-0 font-bold">About
                            Us</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="lostPetProfile">

        <div class="mt-16 flex flex-col justify-center items-center py-8">
            <h4 id="petName"
                class="text-2xl md:text-3xl font-bold text-[#3f3f40] wow animate__animated animate__zoomIn">My Lost Pet
                Name is Suzie.
            </h4>

            <div
                class="flex bg-[#dbe7e7] border border-gray-200 rounded-lg shadow-lg  my-4 mx-4 md:mx-0   justify-center w-[90%] md:w-[800px] h-52 sm:h-64 md:h-[450px]">
                <img id="petImage" src="" class="h-full rounded-lg" alt="Image is loading">
            </div>
        </div>
        <div class=" flex flex-col justify-center items-center pb-8">

            <div class="flex flex-col my-4 mx-2 items-center bg-[#dbe7e7] px-16 py-6  md:p-6 rounded-lg">
                <h4
                    class=" text-2xl md:text-3xl font-bold text-[#3f3f40] animate_animated animate__fadeInDown pb-3 wow animate__animated animate__zoomIn">
                    Paw-sonal
                    Details About My Lost Pet
                </h4>

                <table class="w-auto text-xs sm:text-base text-left rtl:text-right">
                    <tbody>
                        <tr>
                            <td scope="row" class="px-2 pr-0 md:pr-52 pt-3 font-normal text-base whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Breed:</span>
                                <span id="breed" class="font-normal text-[#3f3f40] md:text-xl text-base ">Golden
                                    Retriver</span>
                            </td>
                            <td scope="row"
                                class="hidden md:block px-2 pr-2 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Age:</span>
                                <span id="age" class="font-normal text-[#3f3f40] md:text-xl text-base">Adulthood</span>
                            </td>
                        </tr>
                        <tr>
                            <td scope="row"
                                class="px-2 pr-0 md:pr-52 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Pet Type:</span>
                                <span id="petType" class="font-normal text-[#3f3f40] md:text-xl text-base">Dog</span>
                            </td>
                            <td scope="row"
                                class="hidden md:block px-2 pr-2 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base">Lost From:</span>
                                <span id="lostFrom" class="font-normal text-[#3f3f40] md:text-xl text-base ">Ranip,
                                    Ahmedabad</span>
                            </td>
                        </tr>
                        <tr>
                            <td scope="row"
                                class="px-2 pr-0 md:pr-52 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Pet Gender:</span>
                                <span id="gender" class="font-normal text-[#3f3f40] md:text-xl text-base ">Female</span>
                            </td>
                            <td scope="row"
                                class="hidden md:block px-2 pr-2 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Color:</span>
                                <span id="petColor" class="font-normal text-[#3f3f40] md:text-xl text-base">black</span>
                            </td>
                        </tr>
                        <tr>
                            <td scope="row"
                                class="block md:hidden px-2 pr-2 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Age:</span>
                                <span id="age2"
                                    class="font-normal text-[#3f3f40] md:text-xl text-base">152487311111</span>
                            </td>
                        </tr>
                        <tr>
                            <td scope="row"
                                class="block md:hidden px-2 pr-2 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base">Lost From:</span>
                                <span id="lostFrom2" class="font-normal text-[#3f3f40] md:text-xl text-base ">Yes</span>
                            </td>
                        </tr>
                        <tr>
                            <td scope="row"
                                class="block md:hidden px-2 pr-2 pt-3 font-medium text-sm text-gray-500 whitespace-nowrap">
                                <span class="font-semibold text-[#3f3f40] md:text-xl text-base ">Color:</span>
                                <span id="petColor2" class="font-normal text-[#3f3f40] md:text-xl text-base">Yes</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="flex flex-col my-4 mx-2 lg:mx-56 items-center bg-[#dbe7e7] px-16 py-6  md:p-6 rounded-lg">
                <h4 class="mb-8 text-2xl md:text-3xl font-bold text-[#3f3f40] wow animate__animated animate__zoomIn">
                    How I Lost My Furry Friend...
                </h4>
                <p id="otherDesc" class="font-normal text-[#3f3f40] md:text-xl text-base text-justify">Lorem ipsum,
                    dolor sit amet
                    consectetur
                    adipisicing elit. Excepturi atque tenetur adipisci sed, nam at quaerat magnam sint voluptate in
                    asperiores facilis quibusdam quisquam corrupti! Accusamus qui, officia, minus officiis
                    necessitatibus
                    dolorum consectetur facilis nemo consequatur odit deleniti ad voluptatibus, illum similique mollitia
                    eaque perspiciatis facere magnam rerum iste laborum!</p>
            </div>

            <div class="flex flex-col my-4 mx-2 items-center bg-[#dbe7e7]   sm:px-32 py-6  md:p-6 rounded-lg">
                <h4
                    class="text-2xl md:text-3xl font-bold text-[#3f3f40] animate_animated animate__fadeInDown mx-32 sm:mx-0 wow animate__animated animate__zoomIn">
                    Contact Info.
                </h4>

                <table class="w-auto text-xs sm:text-base text-left rtl:text-right">
                    <tbody>
                        <tr>
                            <td scope="row" class="px-2 pr-0 md:pr-52 pt-3 font-normal text-base">
                                <div class="flex mb-2 space-x-2">
                                    <span><svg class="mdw-[24px] h-[24px] fill-[#e28767]" viewBox="0 0 448 512"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z">
                                            </path>
                                        </svg></span>
                                    <span id="fullName" class="font-normal text-[#3f3f40] md:text-xl text-base ">Suresh
                                        Patel</span>
                                </div>
                            </td>
                            <td scope="row"
                                class="hidden md:block px-2 pr-2 pt-3 font-medium text-sm">
                                <div class="flex mb-2 space-x-2">
                                    <span><svg class="w-[24px] h-[24px] fill-[#e28767]" viewBox="0 0 512 512"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z">
                                            </path>
                                        </svg></path>
                                        </svg></span>
                                    <span id="phoneNo" class="font-normal text-[#3f3f40] md:text-xl text-base ">+91
                                        9173XXXX85</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td scope="row" class="px-2 pr-0 md:pr-20 pt-3 font-medium text-sm">
                                <div class="flex mb-2 space-x-2">
                                    <span><svg class="w-[24px] h-[24px] fill-[#e28767]" viewBox="0 0 512 512"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z">
                                            </path>
                                        </svg></span>
                                    <span id="email"
                                        class="font-normal text-[#3f3f40] md:text-xl text-base ">smaple.mail@gmail.com</span>
                                </div>
                            </td>
                            <td scope="row"
                                class="hidden md:block px-2 pr-2 pt-3 font-medium text-sm">
                                <div class="flex mb-2 space-x-2">
                                    <span><svg class="w-[24px] h-[24px] fill-[#e28767]" viewBox="0 0 384 512"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z">
                                            </path>
                                        </svg></path>
                                        </svg></span>
                                    <span id="address" class="font-normal text-[#3f3f40] md:text-xl text-base ">
                                        Ahmedabad,
                                        Gujarat</span>
                                </div>
                            </td>
                        </tr>

                        <tr class="block md:hidden">
                            <td scope="row" class=" px-2 pr-2 pt-3 font-medium text-sm">
                                <div class="flex mb-2 space-x-2">
                                    <span><svg class="w-[24px] h-[24px] fill-[#e28767]" viewBox="0 0 512 512"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z">
                                            </path>
                                        </svg></path>
                                        </svg></span>
                                    <span id="phoneNo2" class="font-normal text-[#3f3f40] md:text-xl text-base ">+91
                                        9173XXXX85</span>
                                </div>
                            </td>
                        </tr>

                        <tr class="block md:hidden">
                            <td scope="row" class=" px-2 pr-2 pt-3 font-medium text-sm">
                                <div class="flex mb-2 space-x-2">
                                    <span><svg class="w-[24px] h-[24px] fill-[#e28767]" viewBox="0 0 384 512"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z">
                                            </path>
                                        </svg></path>
                                        </svg></span>
                                    <span id="address2" class="font-normal text-[#3f3f40] md:text-xl text-base ">
                                        Ahmedabad,
                                        Gujarat</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer class="bg-[#bbcbca] shadow">
        <div class="w-full max-w-screen-xl mx-auto p-4 md:py-8">
            <div class="sm:flex sm:items-center sm:justify-between">
                <a href="/" class="flex items-center space-x-1 rtl:space-x-reverse">
                    <img src="assets/logo.png" class="h-8 md:h-8 lg:h-11" alt="Logo" />
                    <span
                        class="self-center  text-xl md:text-xl lg:text-2xl  text-[#3f3f40] font-bold whitespace-nowrap">Loveable
                        Paws</span>
                </a>
                <ul class="flex flex-wrap items-center mb-6 text-sm font-medium text-[#3f3f40] sm:mb-0 ">
                    <li>
                        <a href="/aboutus" class="hover:underline me-4 md:me-6">About</a>
                    </li>
                    <li>
                        <a href="/privacypolicy" class="hover:underline me-4 md:me-6">Privacy Policy</a>
                    </li>
                    <li>
                        <a href="/termsandcond" class="hover:underline me-4 md:me-6">Terms & Conditions</a>
                    </li>
                    <li>
                        <a href="/aboutus" class="hover:underline">Contact</a>
                    </li>
                </ul>
            </div>
            <hr class="my-6 border-gray-200 sm:mx-auto lg:my-8" />
            <div class="sm:flex sm:items-center sm:justify-between">
                <span class="text-sm text-[#5e5e60] sm:text-center">¬© 2024 <a href="/"
                        class="hover:underline">Loveable Paws‚Ñ¢</a>. All Rights Reserved.
                </span>
                <div class="flex mt-4 sm:justify-center sm:mt-0 space-x-7">
                    <a href="#" class="text-gray-500 hover:text-gray-900">
                        <i class="fa-brands fa-facebook-f"></i>
                        <span class="sr-only">Facebook page</span>
                    </a>
                    <a href="#" class="text-gray-500 hover:text-gray-900">
                        <i class="fa-brands fa-instagram"></i>
                        <span class="sr-only">Instagram page</span>
                    </a>
                    <a href="mailto:loveablepaws2407@gmail.com" class="text-gray-500 hover:text-gray-900">
                        <i class="fa-regular fa-envelope"></i>
                        <span class="sr-only">Mail</span>
                    </a>
                </div>
            </div>
    </footer>

    <script>
        new WOW().init();

        function getQueryParameter(parameterName) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(parameterName);
        }

        // Extract userId and username from the URL

        var petId = getQueryParameter('petId');
        console.log(petId);

        let lostPetPromise = fetch(`/api/v1/lostpets/getlostpetinfo?petId=${petId}`);

        lostPetPromise.then((Response) => {
            return Response.json();
        }).then((data1) => {
            console.log(data1);

            console.log("this is status" + data1.statusCode);

            if (data1.statusCode === 400 || data1.statusCode === 404) {
                document.getElementById('lostPetProfile').innerHTML = `<div class="flex flex-col justify-center items-center my-20">
            <!-- Default Msg -->
            <img src="assets/noLostPetFound.png" alt="" class="h-80">
            <h4 class="text-xl md:text-2xl font-bold text-center wow animate__animated animate__zoomIn"
                style="color: #d48053;">
                üêæWhoops! Our system is saying 'No pet found.' <br> Double-check the ID and try again!</h4>
        </div>`;
            }

            firstName = data1['data']['firstName'];
            lastName = data1['data']['lastName'];

            document.getElementById('petName').innerHTML = "My Lost Pet Name is " + capitalizeFirstLetter(data1['data']['petName']);
            document.getElementById('petColor').innerHTML = capitalizeFirstLetter(data1['data']['petColor']);
            document.getElementById('petColor2').innerHTML = capitalizeFirstLetter(data1['data']['petColor']);
            document.getElementById('petType').innerHTML = capitalizeFirstLetter(data1['data']['petType']);
            document.getElementById('breed').innerHTML = capitalizeFirstLetter(data1['data']['breed']);
            document.getElementById('gender').innerHTML = capitalizeFirstLetter(data1['data']['gender']);
            document.getElementById('age').innerHTML = capitalizeFirstLetter(data1['data']['age']);
            document.getElementById('age2').innerHTML = capitalizeFirstLetter(data1['data']['age']);
            document.getElementById('lostFrom').innerHTML = capitalizeFirstLetter(data1['data']['city']) + ", " + capitalizeFirstLetter(data1['data']['state']);
            document.getElementById('lostFrom2').innerHTML = capitalizeFirstLetter(data1['data']['city']) + ", " + capitalizeFirstLetter(data1['data']['state']);


            document.getElementById('petImage').src = data1['data']['petImage'];
            document.getElementById('otherDesc').innerHTML = data1['data']['otherDesc'];
            

            document.getElementById('fullName').innerHTML = capitalizeFirstLetter(data1['data']['owner']['firstName']) + ' ' + capitalizeFirstLetter(data1['data']['owner']['lastName']);
            document.getElementById('phoneNo').innerHTML = data1['data']['owner']['phoneNo'];
            document.getElementById('phoneNo2').innerHTML = data1['data']['owner']['phoneNo'];
            console.log("email "+ data1['data']['owner']['email']);
            document.getElementById('email').innerHTML = data1['data']['owner']['email'];
            document.getElementById('address').innerHTML = capitalizeFirstLetter(data1['data']['owner']['address']);
            document.getElementById('address2').innerHTML = capitalizeFirstLetter(data1['data']['owner']['address']);


        })

        function capitalizeFirstLetter(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }


        function showProfileBtn(userId, userName) {

            if (userId && userName) {
                // User is logged in
                document.getElementById("loginBtn").classList.add('hidden') // Show the login button

                document.getElementById("userIcon").classList.remove('hidden') // Show the user icon
            } else {
                console.log(userId, userName);
                console.log('User is not logged in')
                // User is not logged in
                document.getElementById("userIcon").classList.add('hidden') // Show the user icon

                document.getElementById("loginBtn").classList.remove('hidden') // Show the login button
            }
        }

        let userPromise = fetch(`/api/v1/users/getuser`);

        userPromise.then((Response) => {
            return Response.json();
        }).then((data1) => {
            console.log(data1);
            let firstName = data1['data']['firstName'];
            let lastName = data1['data']['lastName'];

            let userId = data1['data']['_id'];
            let userName = data1['data']['userName'];

            const result = createString(firstName, lastName);
            document.getElementById("flName").innerHTML = result;

            showProfileBtn(userId, userName);

            //then
            document.getElementById("loginBtn").classList.add('hidden') // Show the login button

            document.getElementById("userIcon").classList.remove('hidden') // Show the user icon


        }).catch((err) => {
            //console.log(userId, userName);
            console.log('User is not logged in')
            // User is not logged in
            //catch
            document.getElementById("userIcon").classList.add('hidden') // Show the user icon

            document.getElementById("loginBtn").classList.remove('hidden') // Show the login button
        })

        function createString(firstName, lastName) {
            // Extracting the first character of the first name (if it exists)
            const firstInitial = firstName.length > 0 ? firstName.charAt(0) : '';
            // Extracting the first character of the last name (if it exists)
            const lastInitial = lastName.length > 0 ? lastName.charAt(0) : '';

            // Concatenating the first characters to create the desired string
            const resultString = firstInitial.toUpperCase() + lastInitial.toUpperCase();

            return resultString;
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
</body>

</html>